{{ define "main" }}

<!-- banner
{{ with .Params.banner }}
{{ if .enable }}
<section class="slider {{ if .bg_overlay }}overly{{ end }}" style="background-image: url('{{ .bg_image | relURL }}');">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="block">
          {{ with .title }}<h1 style="letter-spacing: 2px;">{{ . | markdownify }}</h1>{{ end }}
          {{ with .content }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
          {{ with .button }}
          {{ if .enable }}
          <a href="{{ .link | relLangURL }}" class="btn btn-main animated fadeInUp">{{ .label }}</a>
          {{ end }}
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
{{ end }}
/banner -->
{{ with .Params.banner }}
{{ if .enable }}
<section class="slider hero {{ if .bg_overlay }}hero--overlay{{ end }}">

  <div class="hero__bgwrap">
    {{ partial "responsive-image.html" (dict
        "ctx"   $
        "src"   .bg_image    
        "alt"   ""
        "class" "hero__bg"
        "fetch" "high"
        "sizes" "100vw"
        "w"     (slice 640 960 1280)
        "lqip"  true
    ) }}
  </div>

  <div class="container">
    <div class="row"><div class="col-md-12">
      <div class="block">
        {{ with .title }}<h1 style="letter-spacing:2px;">{{ . | markdownify }}</h1>{{ end }}
        {{ with .content }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
        {{ with .button }}{{ if .enable }}
          <a href="{{ .link | relLangURL }}" class="btn btn-main">{{ .label }}</a>
        {{ end }}{{ end }}
      </div>
    </div></div>
  </div>

</section>
{{ end }}
{{ end }}






<!-- products 
{{ with .Params.products }}
{{ if .enable }}
<section class="section products">
  <div class="container">
    <div class="section-title text-center">
      {{ with .title }}<h2>{{ . | markdownify }}</h2>{{ end }}
      {{ with .description }}<p>{{ . | markdownify }}</p>{{ end }}
    </div>
    <div class="row">
      {{ range .items }}
      <div class="col-md-4 col-sm-6">
        <div class="card mb-4 shadow-sm text-center">
          <img src="{{ .image | relURL }}" alt="{{ .title }}" class="img-fluid mb-3" />
          <h4>{{ .title }}</h4>
          <p>{{ .content }}</p>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
{{ end }}-->

<section class="section products">
  <div class="container">
    <div class="row">
      {{ range .Params.products.items }}
      <div class="col-md-4 col-sm-6" style="margin-top: 40px;">
        <div class="card mb-4 shadow-sm text-center product-card">

          <!-- 固定宽高比容器（4:3） -->
          <div class="product-card__media">
            {{ partial "responsive-image.html" (dict
              "ctx"   $
              "src"   .image
              "alt"   .title
              "class" "product-card__img" 
              "sizes" "(max-width: 576px) 100vw, (max-width: 768px) 50vw, 33vw"
              "w"     (slice 320 480 640 800 960)
              "lqip"  true
            ) }}
          </div>

          <h4>{{ .title }}</h4>
          <p class="product-card__desc">{{ .content }}</p>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>


<!-- /about -->

<!-- portfolio -->
{{ with .Params.portfolio }}
{{ if .enable }}
<section class="feature bg-2" style="background-image: url('{{ .bg_image | relURL }}')">
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-6">
        {{ with .title }}<h2 class="section-subtitle">{{ . | markdownify }}</h2>{{ end }}
        {{ with .content }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
        {{ with .button }}
        {{ if .enable }}
        <a href="{{ .link | relLangURL }}" class="btn btn-view-works">{{ .label }}</a>
        {{ end }}
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}
{{ end }}
<!-- /portfolio -->

<!-- service -->
{{ partial "service.html" . }}
<!-- /service -->

<!-- funfacts -->
{{ with .Params.funfacts }}
{{ if .enable }}
<section class="testimonial">
  <div class="container">
    <div class="row">
      <div class="section-title text-center">
        {{ with .title }}<h2>{{ . | markdownify }}</h2>{{ end }}
        {{ with .description }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="block">
          <ul class="counter-box clearfix">
            {{ range .funfact_item }}
            <li class="counter-item">
              <i class="{{ .icon }}"></i>
              <h4 class="count" data-count="{{ .count }}">0</h4>
              <span>{{ .name | markdownify }}</span>
            </li>
            {{ end }}
          </ul>
        </div>
      </div>
      <div class="col-md-5 col-md-offset-1">
        <div class="testimonial-carousel text-center">
          <div class="testimonial-slider owl-carousel">
            {{ range .testimonial_slider }}
            <div>
              <i class="fas fa-quote-left"></i>
              {{ with .content }}{{ . | $.Page.RenderString (dict "display" "block") }}{{ end }}
              <div class="user">
                <img src="{{ .image | relURL }}" alt="client">
                <p><span>{{ .name | markdownify }}</span> {{ .designation | markdownify }}</p>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
{{ end }}
<!-- /funfacts -->

<!-- call to action -->
{{ if .Params.cta.enable }}
{{ partial "cta.html" . }}
{{ end }}
<!-- /call to action -->

{{ end }}